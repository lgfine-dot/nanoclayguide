<nav class="site-nav" aria-label="Main navigation">
  <div class="nav-inner">
    <a href="{{ .Site.BaseURL }}" class="nav-brand" aria-label="{{ .Site.Title }} â€” Home">
      Nanoclay Guide
    </a>

    <ul class="nav-links" id="navLinks">
      {{ range .Site.Menus.main }}
        {{ if .HasChildren }}
        <li class="nav-has-dropdown">
          <a href="{{ .URL }}" aria-haspopup="true">
            {{ .Name }}
            <svg class="nav-caret" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" aria-hidden="true"><polyline points="6 9 12 15 18 9"/></svg>
          </a>
          <ul class="nav-dropdown">
            {{ range .Children }}
            <li><a href="{{ .URL }}">{{ .Name }}</a></li>
            {{ end }}
          </ul>
        </li>
        {{ else }}
        <li><a href="{{ .URL }}" {{ if $.IsMenuCurrent "main" . }}class="active"{{ end }}>{{ .Name }}</a></li>
        {{ end }}
      {{ end }}

      {{/* Auto-generate Categories dropdown from taxonomy */}}
      {{ with .Site.Taxonomies.categories }}
      <li class="nav-has-dropdown">
        <a href="{{ "categories/" | absURL }}" aria-haspopup="true">
          Categories
          <svg class="nav-caret" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" aria-hidden="true"><polyline points="6 9 12 15 18 9"/></svg>
        </a>
        <ul class="nav-dropdown">
          {{ range $name, $pages := . }}
          <li><a href="{{ "categories/" | absURL }}{{ $name | urlize }}/">{{ $name | humanize | title }}</a></li>
          {{ end }}
        </ul>
      </li>
      {{ end }}
    </ul>

    <div class="nav-actions">
      <button class="nav-menu-toggle" id="navMenuToggle" aria-label="Toggle menu" aria-expanded="false">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" aria-hidden="true">
          <line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/>
        </svg>
      </button>
    </div>
  </div>
</nav>
